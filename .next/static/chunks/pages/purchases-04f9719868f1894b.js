(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3706],{6840:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/purchases",function(){return t(2440)}])},97076:function(e,r,t){"use strict";t.d(r,{Z:function(){return d}});var s=t(85893),a=t(94184),i=t.n(a);function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var o=function(e){return(0,s.jsxs)("svg",function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},s=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),s.forEach((function(r){n(e,r,t[r])}))}return e}({viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:[(0,s.jsx)("path",{d:"M26.04 41.8L38.04 14.8",stroke:"currentColor",strokeWidth:"4",strokeMiterlimit:"10"}),(0,s.jsx)("path",{d:"M74.04 41.8L62.04 14.8",stroke:"currentColor",strokeWidth:"4",strokeMiterlimit:"10"}),(0,s.jsx)("path",{d:"M80 35.8H93C95.76 35.8 98 38.04 98 40.8V42.8C98 45.56 95.76 47.8 93 47.8H7C4.24 47.8 2 45.56 2 42.8V40.8C2 38.04 4.24 35.8 7 35.8H20",stroke:"currentColor",strokeWidth:"4",strokeMiterlimit:"10"}),(0,s.jsx)("path",{d:"M72.1202 35.8H28.1202",stroke:"currentColor",strokeWidth:"4",strokeMiterlimit:"10"}),(0,s.jsx)("path",{d:"M92 47.8H8L14.56 85.52C15.4 90.32 19.56 93.8 24.4 93.8H75.6C80.48 93.8 84.6 90.32 85.44 85.52L92 47.8Z",stroke:"currentColor",strokeWidth:"4",strokeMiterlimit:"10"}),(0,s.jsx)("path",{d:"M29.52 60.4L31.52 81.2",stroke:"currentColor",strokeWidth:"4",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M71 60.4L69 81.2",stroke:"currentColor",strokeWidth:"4",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M50.2001 60.4V81.2",stroke:"currentColor",strokeWidth:"4",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M39 16.8C41.7614 16.8 44 14.5614 44 11.8C44 9.03859 41.7614 6.80002 39 6.80002C36.2386 6.80002 34 9.03859 34 11.8C34 14.5614 36.2386 16.8 39 16.8Z",stroke:"currentColor",strokeWidth:"4",strokeMiterlimit:"10"}),(0,s.jsx)("path",{d:"M61 16.8C63.7614 16.8 66 14.5614 66 11.8C66 9.03859 63.7614 6.80002 61 6.80002C58.2386 6.80002 56 9.03859 56 11.8C56 14.5614 58.2386 16.8 61 16.8Z",stroke:"currentColor",strokeWidth:"4",strokeMiterlimit:"10"})]}))},l=t(10268);function d(e){var r=e.title,t=void 0===r?"text-empty-cart-message":r,a=e.description,n=void 0===a?"text-empty-cart-list":a,d=e.className,c=(0,l.$G)("common").t;return(0,s.jsxs)("div",{className:i()("flex h-full flex-col items-center justify-center",d),children:[(0,s.jsx)(o,{className:"h-[100px] w-[100px] flex-shrink-0 text-light-800 dark:text-dark-600"}),(0,s.jsx)("h4",{className:"mt-8 text-sm font-medium text-dark dark:text-light 3xl:mt-9",children:c(t)}),(0,s.jsx)("p",{className:"mt-2 text-13px text-light-base dark:text-dark-800 md:mt-3",children:c(n)})]})}},2440:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return W}});var s=t(85893),a=t(67294),i=t(10268),n=t(44661),o=t(27484),l=t.n(o),d=t(88767),c=t(42485),m=t(91478),u=t(63879),h=t(56727),x=t(31932),k=t(81789),b=t(28763),p=t(97076),f=t(62554),g=t(994),v=t(14685),j=t(18818),w=t(55335),N=t(1731),y=t(3620),_=t(96872),C=t(90551),M=t(23813);function L(e){var r,t,o,c,m=e.item,x=(0,i.$G)("common").t,p=(0,w.SO)().openModal,f=m.order_id,g=m.tracking_number,L=null!==(o=m.file.fileable)&&void 0!==o?o:{},Z=L.id,E=L.shop_id,W=L.name,O=L.slug,S=L.image,T=L.preview_url,G=L.my_review,P=(0,d.useMutation)(b.Z.orders.generateDownloadLink,{onSuccess:function(e){!function(e,r){var t=document.createElement("a");t.href=e,t.setAttribute("download",r),t.click()}(e,W)}}).mutate,F=(null===m||void 0===m||null===(r=m.order)||void 0===r?void 0:r.payment_status)===y.bG.SUCCESS||(null===m||void 0===m||null===(t=m.order)||void 0===t?void 0:t.payment_status)===y.bG.WALLET;return(0,s.jsxs)("div",{className:"flex items-start gap-4 border-b border-light-400 py-4 last:border-b-0 dark:border-dark-400 sm:gap-5",children:[(0,s.jsx)(M.Z,{href:C.Z.productUrl(O),children:(0,s.jsx)("div",{className:"relative aspect-[5/3.4] w-28 flex-shrink-0 border border-light-300 dark:border-0 sm:w-32 md:w-36",children:(0,s.jsx)(u.Z,{alt:W,layout:"fill",quality:100,objectFit:"cover",src:null!==(c=null===S||void 0===S?void 0:S.thumbnail)&&void 0!==c?c:j.Z,className:"bg-light-400 dark:bg-dark-400"})})}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col gap-4 sm:flex-row sm:items-center sm:justify-between md:gap-0",children:[(0,s.jsxs)("div",{className:"border-b border-light-400 pb-3 dark:border-dark-600 sm:border-b-0 sm:pb-0",children:[(0,s.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:[x("text-purchased-on")," ",l()(m.updated_at).format("MMM D, YYYY")]}),(0,s.jsx)("h3",{className:"my-1.5 font-medium text-dark dark:text-light sm:mb-3",title:W,children:(0,s.jsx)(M.Z,{href:C.Z.productUrl(O),className:"transition-colors hover:text-brand",children:W})}),T&&(0,s.jsx)("a",{href:T,target:"_blank",rel:"noreferrer",className:"font-medium text-brand-dark dark:text-brand",children:x("text-preview")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[F?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"flex items-center font-semibold text-brand hover:text-brand-dark sm:h-12 sm:rounded sm:border sm:border-light-500 sm:bg-transparent sm:py-3 sm:px-5 sm:dark:border-dark-600",onClick:function(){p("REVIEW_RATING",{product_id:Z,shop_id:E,name:W,image:S,my_review:(0,N.T)(G,f),order_id:f})},children:(0,N.T)(G,f)?x("text-update-review"):x("text-write-review")}),(0,s.jsxs)(v.Z,{onClick:function(){return P(m.digital_file_id)},children:[(0,s.jsx)(k._,{className:"h-auto w-4"}),x("text-download")]})]}):(0,s.jsx)(n.Z,{tracking_number:g,variant:"card"}),(0,s.jsx)("div",{className:"relative shrink-0",children:(0,s.jsxs)(h.v2,{children:[(0,s.jsxs)(h.v2.Button,{className:"flex items-center space-x-[3px] font-semibold text-brand hover:text-brand-dark sm:h-12 sm:rounded sm:border sm:border-light-500 sm:py-3 sm:px-4 sm:dark:border-dark-600",children:[(0,s.jsx)("span",{className:"inline-flex h-1 w-1 shrink-0 rounded-full bg-dark-700 dark:bg-light-800"}),(0,s.jsx)("span",{className:"inline-flex h-1 w-1 shrink-0 rounded-full bg-dark-700 dark:bg-light-800"}),(0,s.jsx)("span",{className:"inline-flex h-1 w-1 shrink-0 rounded-full bg-dark-700 dark:bg-light-800"})]}),(0,s.jsx)(h.uT,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,s.jsx)(h.v2.Items,{className:"absolute top-[110%] z-30 mt-4 w-48 rounded-md bg-light py-1.5 text-dark shadow-dropdown ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left dark:bg-dark-400 dark:text-light md:top-[78%]",children:(0,s.jsx)(h.v2.Item,{children:(0,s.jsx)(_.Z,{href:"".concat(C.Z.orderUrl(null===m||void 0===m?void 0:m.tracking_number),"/payment"),className:"transition-fill-colors block w-full px-5 py-2.5 font-medium hover:bg-light-400 ltr:text-left rtl:text-right dark:hover:bg-dark-600",children:x("text-order-details")})})})})]})})]})]})]})}function Z(){return(0,s.jsxs)("div",{className:"flex animate-pulse items-start gap-4 border-b border-light-400 py-4 last:border-b-0 dark:border-dark-400 sm:items-stretch sm:gap-5",children:[(0,s.jsx)("div",{className:"relative aspect-[5/3.4] w-28 flex-shrink-0 bg-light-400 dark:bg-dark-400 sm:w-32 md:w-36"}),(0,s.jsxs)("div",{className:"flex flex-1 flex-col gap-4 sm:flex-row sm:items-center sm:justify-between md:gap-0",children:[(0,s.jsxs)("div",{className:"h-full flex-grow border-b border-light-400 pb-3 dark:border-dark-600 sm:border-b-0 sm:pb-0",children:[(0,s.jsx)("div",{className:"mb-3 h-2.5 w-1/4 bg-light-400 dark:bg-dark-400"}),(0,s.jsx)("div",{className:"mb-6 h-2.5 w-2/4 bg-light-400 dark:bg-dark-400"}),(0,s.jsx)("div",{className:"h-2.5 w-1/5 bg-light-400 dark:bg-dark-400"})]}),(0,s.jsx)("div",{className:"h-2.5 w-1/3 bg-light-400 dark:bg-dark-400 sm:h-12 sm:w-1/4 sm:rounded md:w-1/6"})]})]})}var E=function(){var e=(0,i.$G)("common").t,r=(0,x.j_)({limit:10,orderBy:"updated_at",sortedBy:"desc"}),t=r.downloadableFiles,a=r.isLoading,n=r.isLoadingMore,o=r.hasNextPage,l=r.loadMore;return(0,s.jsxs)(c.E.div,{variants:(0,f.op)(),className:"flex min-h-full flex-grow flex-col",children:[(0,s.jsxs)("h1",{className:"mb-3 text-15px font-medium text-dark dark:text-light",children:[e("text-my-purchase-list"),(0,s.jsxs)("span",{className:"ml-1 text-light-900",children:["(",t.length,")"]})]}),a&&!t.length&&(0,g.Z)(10,(function(e){return(0,s.jsx)(Z,{},"order-loader-".concat(e))})),a||t.length?t.map((function(e){return(0,s.jsx)(L,{item:e},e.id)})):(0,s.jsx)(p.Z,{className:"my-auto",description:e("text-product-purchase-message")}),o&&(0,s.jsx)("div",{className:"mt-10 grid place-content-center",children:(0,s.jsx)(v.Z,{onClick:l,disabled:n,isLoading:n,children:e("text-loadmore")})})]})};E.authorization=!0,E.getLayout=function(e){return(0,s.jsx)(m.Z,{children:e})};var W=!0;r.default=E}},function(e){e.O(0,[4698,6489,178,1478,3093,9774,2888,179],(function(){return r=6840,e(e.s=r);var r}));var r=e.O();_N_E=r}]);
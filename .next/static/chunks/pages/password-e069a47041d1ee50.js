(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8322],{51693:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/password",function(){return t(99714)}])},10606:function(e,r,t){"use strict";t.d(r,{l:function(){return d}});var n=t(85893),o=t(87536),a=t(95496),s=t(67294);function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){i(e,r,t[r])}))}return e}function u(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function f(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);s=!0);}catch(i){l=!0,o=i}finally{try{s||null==t.return||t.return()}finally{if(l)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return l(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(e){var r=e.onSubmit,t=e.children,l=e.useFormProps,i=e.validationSchema,d=e.serverError,b=e.resetFields,p=u(e,["onSubmit","children","useFormProps","validationSchema","serverError","resetFields"]),m=(0,o.cI)(c({},l,i&&{resolver:(0,a.X)(i)}));return(0,s.useEffect)((function(){d&&Object.entries(d).forEach((function(e){var r=f(e,2),t=r[0],n=r[1];m.setError(t,{type:"manual",message:n})}))}),[d,m]),(0,s.useEffect)((function(){b&&m.reset(b)}),[b,m]),(0,n.jsx)("form",c({noValidate:!0,onSubmit:m.handleSubmit(r)},p,{children:t(m)}))}},32250:function(e,r,t){"use strict";t.d(r,{Z:function(){return g}});var n=t(85893),o=t(67294),a=t(94184),s=t.n(a);function l(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var i=function(e){return(0,n.jsxs)("svg",function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){l(e,r,t[r])}))}return e}({fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e,{children:[(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}))};function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var u=function(e){return(0,n.jsx)("svg",function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){c(e,r,t[r])}))}return e}({fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e,{children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"})}))},f=t(10268);function d(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function b(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){d(e,r,t[r])}))}return e}function p(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var m=(0,o.forwardRef)((function(e,r){var t=e.label,a=e.error,l=e.className,c=e.inputClassName,d=void 0===c?"bg-transparent":c,m=p(e,["label","error","className","inputClassName"]),g=(0,f.$G)("common").t,h=(0,o.useState)(!1),x=h[0],y=h[1];return(0,n.jsxs)("div",{className:l,children:[(0,n.jsxs)("label",{className:"block text-13px",children:[t&&(0,n.jsx)("span",{className:"block cursor-pointer pb-2.5 font-normal text-dark/70 rtl:text-right dark:text-light/70",children:g(t)}),(0,n.jsxs)("span",{className:"relative block",children:[(0,n.jsx)("input",b({type:x?"text":"password",ref:r},m,{className:s()("h-11 w-full appearance-none rounded border border-light-500 bg-transparent py-2 text-13px text-dark ring-[0.5px] ring-light-500 focus:border-brand focus:ring-[0.5px] focus:ring-brand ltr:pl-4 ltr:pr-12 rtl:pr-4 rtl:pl-12 dark:border-dark-600 dark:text-light dark:ring-dark-600 dark:focus:border-brand dark:focus:ring-brand md:h-12 lg:pr-12 lg:pl-5 xl:h-[50px]",d)})),(0,n.jsx)("span",{onClick:function(){return y(!x)},className:" absolute top-0 flex h-full w-[34px] cursor-pointer items-center justify-start text-dark-900 hover:text-dark-700 ltr:right-0 rtl:left-0 dark:text-dark-800 hover:dark:text-light-900 lg:w-9",children:x?(0,n.jsx)(u,{className:"h-auto w-5"}):(0,n.jsx)(i,{className:"h-auto w-5"})})]})]}),a&&(0,n.jsx)("span",{role:"alert",className:"block pt-2 text-xs text-warning",children:a})]})}));m.displayName="Password";var g=m},99714:function(e,r,t){"use strict";t.r(r),t.d(r,{__N_SSG:function(){return v}});var n=t(85893),o=t(10268),a=t(88767),s=t(42485),l=t(74931),i=t(91478),c=t(10606),u=t(32250),f=t(14685),d=t(28763),b=t(62554),p=t(74231),m=t(67294);function g(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function h(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){g(e,r,t[r])}))}return e}var x=p.Ry().shape({oldPassword:p.Z_().required(),newPassword:p.Z_().min(6).required(),confirmPassword:p.Z_().oneOf([p.iH("newPassword")],"Passwords must match").required()}),y=function(){var e=(0,o.$G)("common").t,r=(0,m.useState)(null),t=r[0],i=r[1],p=(0,a.useMutation)(d.Z.users.changePassword,{onSuccess:function(e){if(!e.success)return i({oldPassword:e.message}),void l.ZP.error((0,n.jsx)("b",{children:"Current password is incorrect"}),{className:"-mt-10 xs:mt-0"});l.ZP.success((0,n.jsx)("b",{children:"Password successfully updated!"}),{className:"-mt-10 xs:mt-0"})}}),g=p.mutate,y=p.isLoading;return(0,n.jsxs)(s.E.div,{variants:(0,b.op)(),className:"flex min-h-full flex-grow flex-col",children:[(0,n.jsx)("h1",{className:"mb-5 text-15px font-medium text-dark dark:text-light sm:mb-6",children:e("text-password-page-title")}),(0,n.jsx)(c.l,{onSubmit:function(e){return g(e)},validationSchema:x,serverError:t,className:"flex flex-grow flex-col",children:function(r){var t,o,a,s=r.register,l=r.reset,i=r.formState.errors;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("fieldset",{className:"mb-6 grid gap-5 pb-5 sm:grid-cols-2 md:pb-9 lg:mb-8",children:[(0,n.jsx)(u.Z,h({label:e("text-current-password")},s("oldPassword"),{error:(null===(t=i.oldPassword)||void 0===t?void 0:t.message)&&"Current password is incorrect"})),(0,n.jsx)(u.Z,h({label:e("text-new-password")},s("newPassword"),{error:null===(o=i.newPassword)||void 0===o?void 0:o.message})),(0,n.jsx)(u.Z,h({label:e("text-confirm-password")},s("confirmPassword"),{error:null===(a=i.confirmPassword)||void 0===a?void 0:a.message}))]}),(0,n.jsxs)("div",{className:"mt-auto flex items-center gap-4 pb-3 lg:justify-end",children:[(0,n.jsx)(f.Z,{type:"reset",variant:"outline",disabled:y,onClick:function(){return l()},className:"flex-1 lg:flex-none",children:e("text-cancel")}),(0,n.jsx)(f.Z,{type:"submit",isLoading:y,disabled:y,className:"flex-1 lg:flex-none",children:e("text-save-changes")})]})]})}})]})};y.authorization=!0,y.getLayout=function(e){return(0,n.jsx)(i.Z,{children:e})};var v=!0;r.default=y}},function(e){e.O(0,[4698,5496,6489,178,1478,9774,2888,179],(function(){return r=51693,e(e.s=r);var r}));var r=e.O();_N_E=r}]);
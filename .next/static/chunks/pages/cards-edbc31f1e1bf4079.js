(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8728],{4866:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cards",function(){return r(56984)}])},73398:function(e,t){"use strict";t.Z={src:"/_next/static/media/amex.8fb0a70c.svg",height:48,width:72}},90269:function(e,t){"use strict";t.Z={src:"/_next/static/media/diners.d8b09aff.svg",height:48,width:72}},67354:function(e,t){"use strict";t.Z={src:"/_next/static/media/discover.5052bdb7.svg",height:48,width:72}},35208:function(e,t){"use strict";t.Z={src:"/_next/static/media/fallback-image.29ac491d.png",height:76,width:100,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAHlBMVEXo6OjX19fIyMjQ0NDr6+vq6urX19fr6+vb29vHx8fjNmQjAAAACHRSTlP8/Om0xtrm/unobdoAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAsSURBVAiZJcbBDQAgDAOxSwsk3X9hhPDLbB4vGAw2Dk4w1igJaOavq6qO+gIUTADQX8GMzAAAAABJRU5ErkJggg=="}},34589:function(e,t){"use strict";t.Z={src:"/_next/static/media/jcb.90f209c6.svg",height:48,width:72}},60459:function(e,t){"use strict";t.Z={src:"/_next/static/media/mastercard.1e9b74a9.svg",height:48,width:72}},91031:function(e,t){"use strict";t.Z={src:"/_next/static/media/unionpay.865063eb.svg",height:48,width:72}},97707:function(e,t){"use strict";t.Z={src:"/_next/static/media/visa.cfd1b700.svg",height:48,width:72}},55930:function(e,t,r){"use strict";var n=r(85893);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}t.Z=function(e){e.width,e.height;var t=s(e,["width","height"]);return(0,n.jsxs)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}({viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t,{children:[(0,n.jsx)("circle",{cx:"10.5",cy:"9.5",r:"6.5",fill:"white"}),(0,n.jsx)("path",{d:"M10 0C4.48622 0 0 4.48622 0 10C0 15.5138 4.48622 20 10 20C15.5138 20 20 15.5138 20 10C20 4.48622 15.5138 0 10 0ZM15.589 7.36842L9.198 13.7093C8.82206 14.0852 8.22055 14.1103 7.81955 13.7343L4.43609 10.6516C4.03509 10.2757 4.01003 9.64912 4.3609 9.24812C4.73684 8.84712 5.36341 8.82206 5.76441 9.198L8.44612 11.6541L14.1604 5.93985C14.5614 5.53885 15.188 5.53885 15.589 5.93985C15.99 6.34085 15.99 6.96742 15.589 7.36842Z",fill:"currentColor"})]}))}},13713:function(e,t,r){"use strict";r.d(t,{p:function(){return s}});var n=r(85893);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){return(0,n.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){i(e,t,r[t])}))}return e}({viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:(0,n.jsx)("path",{d:"M17.3471 8.77565H11.2246V2.6532C11.2246 1.97728 10.6761 1.42871 10.0001 1.42871C9.32422 1.42871 8.77565 1.97728 8.77565 2.6532V8.77565H2.6532C1.97728 8.77565 1.42871 9.32422 1.42871 10.0001C1.42871 10.6761 1.97728 11.2246 2.6532 11.2246H8.77565V17.3471C8.77565 18.023 9.32422 18.5716 10.0001 18.5716C10.6761 18.5716 11.2246 18.023 11.2246 17.3471V11.2246H17.3471C18.023 11.2246 18.5716 10.6761 18.5716 10.0001C18.5716 9.32422 18.023 8.77565 17.3471 8.77565Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"0.2"})}))}},37018:function(e,t,r){"use strict";var n=r(85893);t.Z=function(e){var t=e.message;return(0,n.jsx)("p",{className:"mx-auto mt-16 min-w-min max-w-sm rounded bg-red-400 p-5 text-center text-lg font-semibold text-light",children:t})}},72078:function(e,t,r){"use strict";var n=r(85893);t.Z=function(e){return(0,n.jsxs)("div",{className:"flex animate-pulse flex-col items-start gap-4 border border-light-400 p-6 dark:border-dark-400 sm:items-stretch sm:gap-5",children:[(0,n.jsxs)("div",{className:"flex flex-1 flex-col gap-4 border-b border-light-400 pb-4 dark:border-dark-400 sm:flex-row sm:items-center sm:justify-between md:gap-0",children:[(0,n.jsx)("div",{className:"h-2.5 bg-light-400 dark:bg-dark-400 sm:w-28 sm:rounded "}),(0,n.jsx)("div",{className:"ml-3 h-2.5 w-4 bg-light-400 dark:bg-dark-400 sm:w-12 sm:rounded"}),(0,n.jsx)("div",{className:"ml-3 h-2.5 w-4 bg-light-400 dark:bg-dark-400 sm:w-12 sm:rounded"})]}),(0,n.jsxs)("div",{className:"flex flex-1 flex-col gap-4 sm:flex-row sm:items-center sm:justify-between md:gap-0",children:[(0,n.jsx)("div",{className:"h-2.5 bg-light-400 dark:bg-dark-400 sm:w-28 sm:rounded "}),(0,n.jsx)("div",{className:"ml-3 h-2.5 w-4 bg-light-400 dark:bg-dark-400 sm:w-12 sm:rounded"}),(0,n.jsx)("div",{className:"ml-3 h-2.5 w-4 bg-light-400 dark:bg-dark-400 sm:w-12 sm:rounded"})]}),(0,n.jsxs)("div",{className:"flex flex-1 flex-col gap-4 sm:flex-row sm:items-center sm:justify-between md:gap-0",children:[(0,n.jsx)("div",{className:"h-2.5 bg-light-400 dark:bg-dark-400 sm:w-28 sm:rounded "}),(0,n.jsx)("div",{className:"ml-3 h-2.5 w-4 bg-light-400 dark:bg-dark-400 sm:w-12 sm:rounded"}),(0,n.jsx)("div",{className:"ml-3 h-2.5 w-4 bg-light-400 dark:bg-dark-400 sm:w-12 sm:rounded"})]}),(0,n.jsxs)("div",{className:"flex flex-1 flex-col gap-4 sm:flex-row sm:items-center sm:justify-between md:gap-0",children:[(0,n.jsx)("div",{className:"h-2.5 bg-light-400 dark:bg-dark-400 sm:w-28 sm:rounded "}),(0,n.jsx)("div",{className:"ml-3 h-2.5 w-4 bg-light-400 dark:bg-dark-400 sm:w-12 sm:rounded"}),(0,n.jsx)("div",{className:"ml-3 h-2.5 w-4 bg-light-400 dark:bg-dark-400 sm:w-12 sm:rounded"})]})]})}},19662:function(e,t,r){"use strict";r.d(t,{i:function(){return n.ZP}});r(63629);var n=r(19569)},14113:function(e,t,r){"use strict";r.d(t,{Kj:function(){return u},Li:function(){return f},ie:function(){return m},VR:function(){return h}});var n=r(88767),i=r(21880),s=r(28763),a=r(74931),o=r(55335),l=r(10268),c=r(66639);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){var r=(0,c.P)().isAuthorized,a=(0,n.useQuery)([i.P.CARDS,e],(function(){return s.Z.cards.all(e)}),function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){d(e,t,r[t])}))}return e}({enabled:r},t)),o=a.data;return{cards:null!==o&&void 0!==o?o:[],isLoading:a.isLoading,error:a.error}}var f=function(){var e=(0,n.useQueryClient)(),t=(0,l.$G)().t,r=(0,o.SO)().closeModal,c=(0,n.useMutation)(s.Z.cards.remove,{onSuccess:function(){r(),a.ZP.success(t("common:text-card-successfully-deleted"))},onSettled:function(){e.invalidateQueries(i.P.CARDS)}});return{deleteCard:c.mutate,isLoading:c.isLoading,error:c.error}};function m(e){var t=(0,l.$G)().t,r=(0,o.SO)().closeModal,c=(0,n.useQueryClient)(),d=(0,n.useMutation)(s.Z.cards.addPaymentMethod,{onSuccess:function(){r(),a.ZP.success(t("common:text-card-successfully-add"),{id:"success"})},onError:function(e){var r=(null!==e&&void 0!==e?e:{}).response.data;a.ZP.error(t(null===r||void 0===r?void 0:r.message),{id:"error"})},onSettled:function(){c.invalidateQueries(i.P.CARDS)}});return{addNewCard:d.mutate,isLoading:d.isLoading,error:d.error}}function h(){var e=(0,l.$G)().t,t=(0,n.useQueryClient)(),r=(0,n.useMutation)(s.Z.cards.makeDefaultPaymentMethod,{onSuccess:function(){a.ZP.success(e("common:text-set-default-card-message"))},onSettled:function(){t.invalidateQueries(i.P.CARDS)}});return{createDefaultPaymentMethod:r.mutate,isLoading:r.isLoading,error:r.error}}},96357:function(e,t,r){"use strict";var n=r(85893),i=r(2962);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}t.Z=function(e){var t=e.title,r=e.description,o=e.url,l=a(e,["title","description","url"]);return(0,n.jsx)(i.PB,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){s(e,t,r[t])}))}return e}({title:t,description:r,openGraph:{url:"".concat("http://localhost:3000","/").concat(o),title:t,description:r}},l))}},56984:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSG:function(){return G},default:function(){return T}});var n=r(85893),i=r(96357),s=r(55335),a=r(13713),o=r(10268),l=r(36698),c=function(){var e=(0,s.SO)().openModal,t=(0,o.$G)("common").t,r=(0,l.r)().settings;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,n.jsx)("h1",{className:"text-15px font-medium text-dark dark:text-light",children:t("profile-sidebar-my-cards")}),(0,n.jsxs)("button",{onClick:function(){e("ADD_NEW_CARD",{paymentGateway:null===r||void 0===r?void 0:r.paymentGateway})},className:"transition-fill-colors flex items-center justify-center gap-2 text-sm font-semibold text-brand duration-200 hover:text-brand-dark",children:[(0,n.jsx)(a.p,{width:13,height:13}),t("profile-add-cards")]})]})})},d=r(34051),u=r.n(d),f=r(67294),m=r(56727),h=r(14113),g=r(73398),x=r(90269),v=r(67354),b=r(34589),p=r(60459),w=r(91031),y=r(97707),j=r(63879),k=r(19662),A=r(11757),O=r(55930),N=r(35208);function P(e,t,r,n,i,s,a){try{var o=e[s](a),l=o.value}catch(c){return void r(c)}o.done?t(l):Promise.resolve(l).then(n,i)}var C={amex:g.Z,visa:y.Z,diners:x.Z,jcb:b.Z,mastercard:p.Z,unionpay:w.Z,discover:v.Z},E=function(e){e.view;var t=e.payments,r=void 0===t?[]:t,i=(e.showContinuePayment,(0,o.$G)("common").t),a=(0,s.SO)().openModal,l=(0,h.VR)(),c=l.createDefaultPaymentMethod,d=(l.isLoading,function(){var e,t=(e=u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c({method_id:t});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,i){var s=e.apply(t,r);function a(e){P(s,n,i,a,o,"next",e)}function o(e){P(s,n,i,a,o,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),g=(0,A.S)(),x=g.alignLeft,v=g.alignRight,b=[{title:"",dataIndex:"",key:"",width:50,align:x,render:function(e){return(null===e||void 0===e?void 0:e.default_card)?(0,n.jsx)("div",{className:"w-9 text-brand",children:(0,n.jsx)(O.Z,{className:"h-5 w-5"})}):""}},{title:(0,n.jsx)("span",{children:i("text-company")}),dataIndex:"network",key:"network",width:120,align:x,render:function(e){return(0,n.jsx)("div",{className:"w-11",children:e?(0,n.jsx)(j.Z,{src:C[e],width:44,height:30,layout:"responsive",alt:i("text-company")}):(0,n.jsx)(j.Z,{src:N.Z,width:40,height:28,layout:"responsive",alt:i("text-company")})})}},{title:(0,n.jsx)("span",{children:i("text-card-number")}),dataIndex:"last4",key:"last4",align:x,width:170,render:function(e){return(0,n.jsx)("p",{className:"truncate",children:"**** **** **** ".concat(e)})}},{title:(0,n.jsx)("span",{children:i("text-card-owner-name")}),dataIndex:"owner_name",key:"owner_name",align:x,width:150,render:function(e){return(0,n.jsx)("p",{className:"truncate",children:e})}},{title:(0,n.jsx)("span",{children:i("text-expire-date")}),dataIndex:"expires",key:"expires",align:x,width:180,render:function(e){return(0,n.jsx)("p",{className:"truncate",children:e})}},{title:"",dataIndex:"",align:v,width:50,render:function(e){return(0,n.jsx)("div",{className:"relative flex items-center justify-end",children:(0,n.jsxs)(m.v2,{children:[(0,n.jsxs)(m.v2.Button,{className:"relative inline-flex h-8 items-center justify-center space-x-1",children:[(0,n.jsx)("span",{className:"inline-flex h-1 w-1 shrink-0 rounded-full bg-dark-700 dark:bg-light-800"}),(0,n.jsx)("span",{className:"inline-flex h-1 w-1 shrink-0 rounded-full bg-dark-700 dark:bg-light-800"}),(0,n.jsx)("span",{className:"inline-flex h-1 w-1 shrink-0 rounded-full bg-dark-700 dark:bg-light-800"})]}),(0,n.jsx)(m.uT,{as:f.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,n.jsxs)(m.v2.Items,{className:"absolute top-[84%] z-30 mt-4 w-56 rounded-md bg-light py-1.5 text-dark shadow-dropdown ltr:right-0 ltr:origin-top-right rtl:left-0 rtl:origin-top-left dark:bg-dark-400 dark:text-light",children:[!e.default_card&&(0,n.jsx)(m.v2.Item,{children:(0,n.jsx)("button",{type:"button",className:"transition-fill-colors w-full px-5 py-2.5 font-medium hover:bg-light-400 ltr:text-left rtl:text-right dark:hover:bg-dark-600",onClick:function(){return d(null===e||void 0===e?void 0:e.id)},children:i("text-default-text")})}),(0,n.jsx)(m.v2.Item,{children:(0,n.jsx)("button",{type:"button",className:"transition-fill-colors w-full px-5 py-2.5 font-medium text-[#DF4B4B] hover:bg-light-400 ltr:text-left rtl:text-right dark:hover:bg-dark-600",onClick:function(){return t=null===e||void 0===e?void 0:e.id,void a("DELETE_CARD_MODAL",{card_id:t});var t},children:i("text-delete-card")})})]})})]})})}}];return(0,n.jsx)(k.i,{columns:b,data:r,className:"card-view-table w-full shadow-none",scroll:{x:800},rowClassName:function(e,t){return(null===e||void 0===e?void 0:e.default_card)?"row-highlight":""},emptyText:i("text-no-card-found"),rowKey:"card-view"})},L=r(37018),Z=r(72078),S=function(){var e=(0,o.$G)().t,t=(0,h.Kj)(),r=t.cards,i=t.isLoading,s=t.error;return i?(0,n.jsxs)("div",{className:"flex w-full flex-col",children:[(0,n.jsx)("div",{className:"mb-8 flex items-center justify-center",children:(0,n.jsx)("h1",{className:"text-heading text-center text-base font-semibold",children:e("profile-sidebar-my-cards")})}),(0,n.jsx)(Z.Z,{uniqueKey:"table-loader"})]}):s?(0,n.jsx)(L.Z,{message:null===s||void 0===s?void 0:s.message}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c,{}),(0,n.jsx)(E,{payments:r})]})},_=r(3620),D=r(62554),M=r(42485),R=r(91478),I=function(){var e,t,r=(0,l.r)().settings;return(null===(e=[_.HY.STRIPE])||void 0===e?void 0:e.includes(null===r||void 0===r||null===(t=r.paymentGateway)||void 0===t?void 0:t.toUpperCase()))?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{title:"My cards",description:"All my card related information.",url:"/cards"}),(0,n.jsx)(M.E.div,{variants:(0,D.op)(),className:"flex min-h-full flex-grow flex-col",children:(0,n.jsx)(S,{})})]}):null};I.authorization=!0,I.getLayout=function(e){return(0,n.jsx)(R.Z,{children:e})};var G=!0,T=I},3620:function(e,t,r){"use strict";var n,i,s;r.d(t,{HY:function(){return n},iF:function(){return i},bG:function(){return s}}),function(e){e.FULL_WALLET_PAYMENT="FULL_WALLET_PAYMENT",e.STRIPE="STRIPE",e.PAYPAL="PAYPAL",e.RAZORPAY="RAZORPAY",e.MOLLIE="MOLLIE"}(n||(n={})),function(e){e.PENDING="order-pending",e.COMPLETED="order-completed",e.CANCELLED="order-cancelled",e.REFUNDED="order-refunded",e.FAILED="order-failed"}(i||(i={})),function(e){e.PENDING="payment-pending",e.PROCESSING="payment-processing",e.SUCCESS="payment-success",e.FAILED="payment-failed",e.REVERSAL="payment-reversal",e.WALLET="payment-wallet"}(s||(s={}))}},function(e){e.O(0,[4698,9914,6489,178,1478,9774,2888,179],(function(){return t=4866,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6219],{71589:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/orders/[tracking_number]/thank-you",function(){return n(96973)}])},31932:function(e,t,n){"use strict";n.d(t,{j_:function(){return l},Aj:function(){return f},xp:function(){return g},fY:function(){return m},MH:function(){return h}});var r=n(88767),i=n(21880),o=n(28763),a=n(11163),u=n(55335),s=n(74931);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function l(e){var t,n=d({},e),a=(0,r.useInfiniteQuery)([i.P.ORDERS_DOWNLOADS,n],(function(e){var t=e.queryKey,n=e.pageParam;return o.Z.orders.downloadable(Object.assign({},t[1],n))}),{getNextPageParam:function(e){var t=e.current_page;return e.last_page>t&&{page:t+1}}}),u=a.data,s=a.isLoading,c=a.error,l=a.fetchNextPage,f=a.hasNextPage,g=a.isFetching,m=a.isFetchingNextPage;return{downloadableFiles:null!==(t=null===u||void 0===u?void 0:u.pages.flatMap((function(e){return e.data})))&&void 0!==t?t:[],isLoading:s,error:c,hasNextPage:f,isFetching:g,isLoadingMore:m,loadMore:function(){l()}}}function f(e){var t=e.tracking_number,n=(0,r.useQuery)([i.P.ORDERS,t],(function(){return o.Z.orders.get(t)}),{refetchOnWindowFocus:!1}),a=n.data,u=n.isLoading,s=n.error;return{order:a,isFetching:n.isFetching,isLoading:u,refetch:n.refetch,error:s}}function g(e){var t=e.tracking_number,n=(0,a.useRouter)(),s=(0,u.SO)().openModal,c=(0,r.useQuery)([i.P.PAYMENT_INTENT,{tracking_number:t}],(function(){return o.Z.orders.getPaymentIntent({tracking_number:t})}),{enabled:!1,onSuccess:function(e){var t,r;if(null===e||void 0===e||null===(t=e.payment_intent_info)||void 0===t?void 0:t.is_redirect)return n.push(null===e||void 0===e||null===(r=e.payment_intent_info)||void 0===r?void 0:r.redirect_url);s("PAYMENT_MODAL",{paymentGateway:null===e||void 0===e?void 0:e.payment_gateway,paymentIntentInfo:null===e||void 0===e?void 0:e.payment_intent_info,trackingNumber:null===e||void 0===e?void 0:e.tracking_number})}}),d=c.data,l=c.isLoading,f=c.error;return{data:d,getPaymentIntentQuery:c.refetch,isLoading:l,error:f}}function m(){var e=(0,r.useQueryClient)(),t=(0,r.useMutation)(o.Z.orders.payment,{onSettled:function(t){e.refetchQueries(i.P.ORDERS),e.refetchQueries(i.P.ORDERS_DOWNLOADS)},onError:function(e){var t=(null!==e&&void 0!==e?e:{}).response.data;s.ZP.error(null===t||void 0===t?void 0:t.message)}}),n=t.mutate;return{createOrderPayment:function(e){var t=d({},e);n(t)},isLoading:t.isLoading}}function h(){var e=(0,r.useMutation)(o.Z.orders.savePaymentMethod),t=e.mutate,n=e.isLoading,i=e.error;return{savePaymentMethod:t,data:e.data,isLoading:n,error:i}}},96973:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return v}});var r=n(85893),i=n(67294),o=n(11163),a=n(40725),u=n.n(a),s=n(76524),c=n(14685),d=n(62964),l=n(92730),f=n(90551),g=n(10268),m=n(31932),h=function(){var e=(0,o.useRouter)(),t=(0,o.useRouter)().query,n=(0,g.$G)("common").t,a=(0,d.Z)(),s=a.width,h=a.height,v=(0,l.jD)().resetCart,_=(0,m.fY)().createOrderPayment;return(0,i.useEffect)((function(){v()}),[]),(0,i.useEffect)((function(){_({tracking_number:null===t||void 0===t?void 0:t.tracking_number})}),[]),(0,r.jsxs)("div",{className:"m-auto flex flex-grow flex-col items-center justify-center px-5",children:[(0,r.jsx)("div",{className:"mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-light shadow-card dark:bg-dark-400 md:h-[120px] md:w-[120px] 3xl:h-32 3xl:w-32",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-brand-dark md:h-16 md:w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,r.jsx)("h2",{className:"mb-2.5 text-15px font-semibold text-dark-300 dark:text-light md:text-base 3xl:text-lg",children:n("text-order-received-title")}),(0,r.jsx)("p",{className:"text-center",children:n("text-order-thank-you-message")}),(0,r.jsx)(c.Z,{variant:"solid",className:"mt-5 sm:mt-6 md:mt-8",onClick:function(){return e.push(f.Z.purchases)},children:n("text-order-button-title")}),(0,r.jsx)(u(),{width:s,height:h})]})};h.authorization=!0,h.getLayout=function(e){return(0,r.jsx)(s.Z,{children:e})};var v=!0;t.default=h}},function(e){e.O(0,[4698,6489,178,3770,9774,2888,179],(function(){return t=71589,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
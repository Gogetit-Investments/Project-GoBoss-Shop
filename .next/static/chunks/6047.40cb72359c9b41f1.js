"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6047],{9406:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(91131),o=n(10575);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(c){u=!0,o=c}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=(0,r.cn)((0,o.qz)());function c(){var e=a((0,r.KO)(u),2),t=e[0],n=e[1];return{setToken:o.uB,getToken:o.bW,isAuthorized:t,authorize:function(e){(0,o.uB)(e),n(!0)},unauthorize:function(){n(!1),(0,o.H6)()}}}},36047:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var r=n(85893);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(e){return(0,r.jsx)("svg",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e,{children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.4,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}))},a=n(14685),u=n(10268),c=n(94184),l=n.n(c),s=function(e){var t=e.onCancel,n=e.onDelete,o=e.icon,c=e.title,s=void 0===c?"text-delete":c,d=e.description,f=void 0===d?"text-card-delete-confirm":d,m=e.cancelBtnText,v=void 0===m?"text-cancel":m,h=e.deleteBtnText,b=void 0===h?"text-delete":h,x=e.cancelBtnClassName,y=e.deleteBtnClassName,g=e.cancelBtnLoading,p=e.deleteBtnLoading,j=(0,u.$G)("common").t;return(0,r.jsx)("div",{className:"flex h-full min-h-screen w-screen flex-col justify-center bg-light p-7 text-left dark:bg-dark-250 xs:h-auto xs:min-h-0 sm:w-96 md:rounded-xl",children:(0,r.jsx)("div",{className:"h-full w-full text-center",children:(0,r.jsxs)("div",{className:"flex h-full flex-col justify-between",children:[(0,r.jsx)("span",{className:"m-auto mt-4 text-brand",children:o||(0,r.jsx)(i,{className:"h-14 w-14"})}),(0,r.jsx)("p",{className:"mt-4 mb-1 text-xl font-bold text-black dark:text-light",children:j(s)}),(0,r.jsx)("p",{className:"mb-1 px-6 py-2 leading-relaxed",children:j(f)}),(0,r.jsxs)("div",{className:"mt-7 flex w-full items-center justify-between space-x-4 rtl:space-x-reverse",children:[(0,r.jsx)("div",{className:"w-1/2",children:(0,r.jsx)(a.Z,{onClick:t,isLoading:g,disabled:g,className:l()("w-full",x),children:j(v)})}),(0,r.jsx)("div",{className:"w-1/2",children:(0,r.jsx)(a.Z,{onClick:n,isLoading:p,disabled:p,className:l()("w-full rounded bg-red-600 py-2 px-4 text-center text-base font-semibold text-light shadow-md transition duration-200 ease-in hover:bg-red-700 focus:bg-red-700 focus:outline-none",y),children:j(b)})})]})]})})})},d=n(55335),f=n(14113);function m(){var e=(0,d.X9)().data.card_id,t=(0,d.SO)().closeModal,n=(0,f.Li)(),o=n.deleteCard,i=n.isLoading;return(0,r.jsx)(s,{onCancel:t,onDelete:function(){e&&o({id:e})},deleteBtnLoading:i})}},14113:function(e,t,n){n.d(t,{Kj:function(){return d},Li:function(){return f},ie:function(){return m},VR:function(){return v}});var r=n(88767),o=n(21880),i=n(28763),a=n(74931),u=n(55335),c=n(10268),l=n(66639);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=(0,l.P)().isAuthorized,a=(0,r.useQuery)([o.P.CARDS,e],(function(){return i.Z.cards.all(e)}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({enabled:n},t)),u=a.data;return{cards:null!==u&&void 0!==u?u:[],isLoading:a.isLoading,error:a.error}}var f=function(){var e=(0,r.useQueryClient)(),t=(0,c.$G)().t,n=(0,u.SO)().closeModal,l=(0,r.useMutation)(i.Z.cards.remove,{onSuccess:function(){n(),a.ZP.success(t("common:text-card-successfully-deleted"))},onSettled:function(){e.invalidateQueries(o.P.CARDS)}});return{deleteCard:l.mutate,isLoading:l.isLoading,error:l.error}};function m(e){var t=(0,c.$G)().t,n=(0,u.SO)().closeModal,l=(0,r.useQueryClient)(),s=(0,r.useMutation)(i.Z.cards.addPaymentMethod,{onSuccess:function(){n(),a.ZP.success(t("common:text-card-successfully-add"),{id:"success"})},onError:function(e){var n=(null!==e&&void 0!==e?e:{}).response.data;a.ZP.error(t(null===n||void 0===n?void 0:n.message),{id:"error"})},onSettled:function(){l.invalidateQueries(o.P.CARDS)}});return{addNewCard:s.mutate,isLoading:s.isLoading,error:s.error}}function v(){var e=(0,c.$G)().t,t=(0,r.useQueryClient)(),n=(0,r.useMutation)(i.Z.cards.makeDefaultPaymentMethod,{onSuccess:function(){a.ZP.success(e("common:text-set-default-card-message"))},onSettled:function(){t.invalidateQueries(o.P.CARDS)}});return{createDefaultPaymentMethod:n.mutate,isLoading:n.isLoading,error:n.error}}},66639:function(e,t,n){n.d(t,{P:function(){return u},a:function(){return c}});var r=n(9406),o=n(88767),i=n(28763),a=n(21880);function u(){var e=(0,r.Z)().isAuthorized,t=(0,o.useQuery)([a.P.USERS_ME],i.Z.users.me,{enabled:e});return{me:t.data,isLoading:t.isLoading,error:t.error,isAuthorized:e}}function c(){var e=(0,r.Z)().unauthorize,t=(0,o.useQueryClient)();return(0,o.useMutation)(i.Z.users.logout,{onSuccess:function(){e(),t.resetQueries(a.P.USERS_ME)}})}}}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2942],{22942:function(e,r,t){t.r(r),t.d(r,{default:function(){return y}});var n=t(85893),o=t(74231),a=t(14685),l=t(10606),i=t(63439),s=t(55335),u=t(88767),c=t(28763),d=t(74931),f=t(21880),b=t(10268);function m(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){m(e,r,t[r])}))}return e}var x=o.Ry().shape({question:o.Z_().required("Tell us more about it")});function y(){var e=(0,s.X9)().data,r=(0,b.$G)("common").t,t=(0,s.SO)().closeModal,o=(0,u.useQueryClient)(),m=(0,u.useMutation)(c.Z.questions.create,{onSuccess:function(){d.ZP.success(r("text-ask-question-success"))},onError:function(e){var t,n=(null!==e&&void 0!==e?e:{}).response.data;(null===n||void 0===n||null===(t=n.message)||void 0===t?void 0:t.includes("MAXIMUM_QUESTION_LIMIT_EXCEEDED"))?d.ZP.error(r("text-ask-question-error")):d.ZP.error(null===n||void 0===n?void 0:n.message)},onSettled:function(){o.refetchQueries([f.P.PRODUCTS_QUESTIONS]),t()}}),y=m.mutate,h=m.isLoading;return(0,n.jsxs)("div",{className:"flex h-full min-h-screen w-screen flex-col justify-center bg-light text-left dark:bg-dark-250 xs:h-auto xs:min-h-0 xs:max-w-[400px] md:max-w-[590px] md:rounded-xl lg:max-w-[650px]",children:[(0,n.jsx)("h3",{className:"mb-2 pl-6 pr-6 text-center text-base font-medium tracking-[-0.3px] text-dark dark:text-light xs:mb-0 xs:border-b xs:border-dark/10 xs:py-4 xs:pr-10 xs:text-left xs:dark:border-light/10 md:py-5 md:pl-7 lg:py-6 lg:pr-16",children:r("text-ask-seller-question")}),(0,n.jsx)("div",{className:"p-6 md:p-7",children:(0,n.jsx)(l.l,{onSubmit:function(r){y({product_id:e.product_id,shop_id:e.shop_id,question:r.question})},validationSchema:x,children:function(e){var t,o=e.register,l=e.formState.errors;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,p({},o("question"),{className:"mb-5",error:null===l||void 0===l||null===(t=l.question)||void 0===t?void 0:t.message})),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{className:"text-xs leading-5 text-dark/60 ltr:pr-8 rtl:pl-8 dark:text-light/60",children:r("text-ask-question-desc")}),(0,n.jsx)(a.Z,{className:"text-sm",isLoading:h,disabled:h,children:r("text-submit")})]})]})}})})]})}},10606:function(e,r,t){t.d(r,{l:function(){return f}});var n=t(85893),o=t(87536),a=t(95496),l=t(67294);function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){s(e,r,t[r])}))}return e}function c(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function d(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],l=!0,i=!1;try{for(t=t.call(e);!(l=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);l=!0);}catch(s){i=!0,o=s}finally{try{l||null==t.return||t.return()}finally{if(i)throw o}}return a}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return i(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(e){var r=e.onSubmit,t=e.children,i=e.useFormProps,s=e.validationSchema,f=e.serverError,b=e.resetFields,m=c(e,["onSubmit","children","useFormProps","validationSchema","serverError","resetFields"]),p=(0,o.cI)(u({},i,s&&{resolver:(0,a.X)(s)}));return(0,l.useEffect)((function(){f&&Object.entries(f).forEach((function(e){var r=d(e,2),t=r[0],n=r[1];p.setError(t,{type:"manual",message:n})}))}),[f,p]),(0,l.useEffect)((function(){b&&p.reset(b)}),[b,p]),(0,n.jsx)("form",u({noValidate:!0,onSubmit:p.handleSubmit(r)},m,{children:t(p)}))}},63439:function(e,r,t){var n=t(85893),o=t(67294),a=t(94184),l=t.n(a),i=t(10268);function s(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){s(e,r,t[r])}))}return e}function c(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var d=(0,o.forwardRef)((function(e,r){var t=e.label,o=e.error,a=e.className,s=e.inputClassName,d=void 0===s?"bg-transparent":s,f=c(e,["label","error","className","inputClassName"]),b=(0,i.$G)("common").t;return(0,n.jsxs)("div",{className:a,children:[(0,n.jsxs)("label",{className:"block text-13px",children:[t&&(0,n.jsx)("span",{className:"block cursor-pointer pb-2.5 font-normal text-dark/70 dark:text-light/70",children:b(t)}),(0,n.jsx)("textarea",u({ref:r},f,{className:l()("min-h-[150px] w-full appearance-none rounded border border-light-500 px-4 py-3 text-13px text-dark ring-[0.5px] ring-light-500 placeholder:text-dark-900 focus:border-brand focus:ring-[0.5px] focus:ring-brand dark:border-dark-600 dark:text-light dark:ring-dark-600 dark:placeholder:text-dark-700 dark:focus:border-brand dark:focus:ring-brand lg:px-5",d)}))]}),o&&(0,n.jsx)("span",{role:"alert",className:"block pt-2 text-xs text-warning",children:b(o)})]})}));d.displayName="Textarea",r.Z=d}}]);